{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _jsxFileName = \"/home/tysonic/Projects/zuku_mobile/node_modules/react-native-super-grid/FlatGrid.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { forwardRef, memo, useState, useCallback, useMemo } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport PropTypes from 'prop-types';\nimport { chunkArray, calculateDimensions, generateStyles } from \"./utils\";\nvar FlatGrid = memo(forwardRef(function (props, ref) {\n  var style = props.style,\n      spacing = props.spacing,\n      fixed = props.fixed,\n      data = props.data,\n      itemDimension = props.itemDimension,\n      renderItem = props.renderItem,\n      horizontal = props.horizontal,\n      onLayout = props.onLayout,\n      staticDimension = props.staticDimension,\n      maxDimension = props.maxDimension,\n      itemContainerStyle = props.itemContainerStyle,\n      keyExtractor = props.keyExtractor,\n      restProps = _objectWithoutProperties(props, [\"style\", \"spacing\", \"fixed\", \"data\", \"itemDimension\", \"renderItem\", \"horizontal\", \"onLayout\", \"staticDimension\", \"maxDimension\", \"itemContainerStyle\", \"keyExtractor\"]);\n\n  if (props.items && !props.data) {\n    throw new Error('React Native Super Grid - Prop \"items\" has been renamed to \"data\" in version 4');\n  }\n\n  var _useState = useState(function () {\n    var defaultTotalDimension = staticDimension;\n\n    if (!staticDimension) {\n      var dimension = horizontal ? 'height' : 'width';\n      defaultTotalDimension = maxDimension || Dimensions.get('window')[dimension];\n    }\n\n    return defaultTotalDimension;\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      totalDimension = _useState2[0],\n      setTotalDimension = _useState2[1];\n\n  var onLayoutLocal = useCallback(function (e) {\n    if (!staticDimension) {\n      var _ref = e.nativeEvent.layout || {},\n          width = _ref.width,\n          height = _ref.height;\n\n      var newTotalDimension = horizontal ? height : width;\n\n      if (maxDimension && newTotalDimension > maxDimension) {\n        newTotalDimension = maxDimension;\n      }\n\n      if (totalDimension !== newTotalDimension) {\n        setTotalDimension(newTotalDimension);\n      }\n    }\n\n    if (onLayout) {\n      onLayout(e);\n    }\n  }, [staticDimension, maxDimension, totalDimension, horizontal, onLayout]);\n  var renderRow = useCallback(function (_ref2) {\n    var rowItems = _ref2.rowItems,\n        rowIndex = _ref2.rowIndex,\n        separators = _ref2.separators,\n        isLastRow = _ref2.isLastRow,\n        itemsPerRow = _ref2.itemsPerRow,\n        rowStyle = _ref2.rowStyle,\n        containerStyle = _ref2.containerStyle;\n    var additionalRowStyle = {};\n\n    if (isLastRow) {\n      additionalRowStyle = _objectSpread(_objectSpread({}, !horizontal ? {\n        marginBottom: spacing\n      } : {}), horizontal ? {\n        marginRight: spacing\n      } : {});\n    }\n\n    return React.createElement(View, {\n      style: [rowStyle, additionalRowStyle],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, rowItems.map(function (item, i) {\n      return React.createElement(View, {\n        key: keyExtractor ? keyExtractor(item, i) : \"item_\" + (rowIndex * itemsPerRow + i),\n        style: [containerStyle, itemContainerStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }, renderItem({\n        item: item,\n        index: rowIndex * itemsPerRow + i,\n        separators: separators,\n        rowIndex: rowIndex\n      }));\n    }));\n  }, [renderItem, spacing, keyExtractor, itemContainerStyle, horizontal]);\n\n  var _useMemo = useMemo(function () {\n    return calculateDimensions({\n      itemDimension: itemDimension,\n      staticDimension: staticDimension,\n      totalDimension: totalDimension,\n      spacing: spacing,\n      fixed: fixed\n    });\n  }, [itemDimension, staticDimension, totalDimension, spacing, fixed]),\n      containerDimension = _useMemo.containerDimension,\n      itemsPerRow = _useMemo.itemsPerRow,\n      fixedSpacing = _useMemo.fixedSpacing;\n\n  var _useMemo2 = useMemo(function () {\n    return generateStyles({\n      horizontal: horizontal,\n      itemDimension: itemDimension,\n      containerDimension: containerDimension,\n      spacing: spacing,\n      fixedSpacing: fixedSpacing,\n      fixed: fixed\n    });\n  }, [horizontal, itemDimension, containerDimension, spacing, fixedSpacing, fixed]),\n      containerStyle = _useMemo2.containerStyle,\n      rowStyle = _useMemo2.rowStyle;\n\n  var rows = chunkArray(data, itemsPerRow);\n  var localKeyExtractor = useCallback(function (rowItems, index) {\n    if (keyExtractor) {\n      return rowItems.map(function (rowItem, rowItemIndex) {\n        return keyExtractor(rowItem, rowItemIndex);\n      }).join('_');\n    }\n\n    return \"row_\" + index;\n  }, [keyExtractor]);\n  return React.createElement(FlatList, _extends({\n    data: rows,\n    ref: ref,\n    extraData: totalDimension,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return renderRow({\n        rowItems: item,\n        rowIndex: index,\n        isLastRow: index === rows.length - 1,\n        itemsPerRow: itemsPerRow,\n        rowStyle: rowStyle,\n        containerStyle: containerStyle\n      });\n    },\n    style: [_objectSpread({}, horizontal ? {\n      paddingLeft: spacing\n    } : {\n      paddingTop: spacing\n    }), style],\n    onLayout: onLayoutLocal,\n    keyExtractor: localKeyExtractor\n  }, restProps, {\n    horizontal: horizontal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }));\n}));\nFlatGrid.displayName = 'FlatGrid';\nFlatGrid.propTypes = {\n  renderItem: PropTypes.func.isRequired,\n  data: PropTypes.arrayOf(PropTypes.any).isRequired,\n  itemDimension: PropTypes.number,\n  fixed: PropTypes.bool,\n  spacing: PropTypes.number,\n  style: PropTypes.object,\n  itemContainerStyle: PropTypes.object,\n  staticDimension: PropTypes.number,\n  horizontal: PropTypes.bool,\n  onLayout: PropTypes.func,\n  keyExtractor: PropTypes.func,\n  listKey: PropTypes.string\n};\nFlatGrid.defaultProps = {\n  fixed: false,\n  itemDimension: 120,\n  spacing: 10,\n  style: {},\n  itemContainerStyle: undefined,\n  staticDimension: undefined,\n  horizontal: false,\n  onLayout: null,\n  keyExtractor: null,\n  listKey: undefined\n};\nexport default FlatGrid;","map":{"version":3,"sources":["/home/tysonic/Projects/zuku_mobile/node_modules/react-native-super-grid/FlatGrid.js"],"names":["React","forwardRef","memo","useState","useCallback","useMemo","PropTypes","chunkArray","calculateDimensions","generateStyles","FlatGrid","props","ref","style","spacing","fixed","data","itemDimension","renderItem","horizontal","onLayout","staticDimension","maxDimension","itemContainerStyle","keyExtractor","restProps","items","Error","defaultTotalDimension","dimension","Dimensions","get","totalDimension","setTotalDimension","onLayoutLocal","e","nativeEvent","layout","width","height","newTotalDimension","renderRow","rowItems","rowIndex","separators","isLastRow","itemsPerRow","rowStyle","containerStyle","additionalRowStyle","marginBottom","marginRight","map","item","i","index","containerDimension","fixedSpacing","rows","localKeyExtractor","rowItem","rowItemIndex","join","length","paddingLeft","paddingTop","displayName","propTypes","func","isRequired","arrayOf","any","number","bool","object","listKey","string","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, {\n  forwardRef, memo, useState, useCallback, useMemo,\n} from 'react';\nimport {\n  View, Dimensions, FlatList,\n} from 'react-native';\nimport PropTypes from 'prop-types';\nimport { chunkArray, calculateDimensions, generateStyles } from './utils';\n\n\nconst FlatGrid = memo(\n  forwardRef((props, ref) => {\n    const {\n      style,\n      spacing,\n      fixed,\n      data,\n      itemDimension,\n      renderItem,\n      horizontal,\n      onLayout,\n      staticDimension,\n      maxDimension,\n      itemContainerStyle,\n      keyExtractor,\n      ...restProps\n    } = props;\n\n    if (props.items && !props.data) {\n      // eslint-disable-next-line no-console\n      throw new Error('React Native Super Grid - Prop \"items\" has been renamed to \"data\" in version 4');\n    }\n\n    const [totalDimension, setTotalDimension] = useState(() => {\n      let defaultTotalDimension = staticDimension;\n\n      if (!staticDimension) {\n        const dimension = horizontal ? 'height' : 'width';\n        defaultTotalDimension = maxDimension || Dimensions.get('window')[dimension];\n      }\n\n      return defaultTotalDimension;\n    });\n\n    const onLayoutLocal = useCallback(\n      (e) => {\n        if (!staticDimension) {\n          const { width, height } = e.nativeEvent.layout || {};\n          let newTotalDimension = horizontal ? height : width;\n\n          if (maxDimension && newTotalDimension > maxDimension) {\n            newTotalDimension = maxDimension;\n          }\n\n          if (totalDimension !== newTotalDimension) {\n            setTotalDimension(newTotalDimension);\n          }\n        }\n\n        // call onLayout prop if passed\n        if (onLayout) {\n          onLayout(e);\n        }\n      },\n      [staticDimension, maxDimension, totalDimension, horizontal, onLayout],\n    );\n\n    const renderRow = useCallback(\n      ({\n        rowItems,\n        rowIndex,\n        separators,\n        isLastRow,\n        itemsPerRow,\n        rowStyle,\n        containerStyle,\n      }) => {\n        // To make up for the top padding\n        let additionalRowStyle = {};\n        if (isLastRow) {\n          additionalRowStyle = {\n            ...(!horizontal ? { marginBottom: spacing } : {}),\n            ...(horizontal ? { marginRight: spacing } : {}),\n          };\n        }\n\n        return (\n          <View style={[rowStyle, additionalRowStyle]}>\n            {rowItems.map((item, i) => (\n              <View\n                key={\n                  keyExtractor\n                    ? keyExtractor(item, i)\n                    : `item_${rowIndex * itemsPerRow + i}`\n                }\n                style={[containerStyle, itemContainerStyle]}\n              >\n                {renderItem({\n                  item,\n                  index: rowIndex * itemsPerRow + i,\n                  separators,\n                  rowIndex,\n                })}\n              </View>\n            ))}\n          </View>\n        );\n      },\n      [renderItem, spacing, keyExtractor, itemContainerStyle, horizontal],\n    );\n\n    const { containerDimension, itemsPerRow, fixedSpacing } = useMemo(\n      () => calculateDimensions({\n        itemDimension,\n        staticDimension,\n        totalDimension,\n        spacing,\n        fixed,\n      }),\n      [itemDimension, staticDimension, totalDimension, spacing, fixed],\n    );\n\n    const { containerStyle, rowStyle } = useMemo(\n      () => generateStyles({\n        horizontal,\n        itemDimension,\n        containerDimension,\n        spacing,\n        fixedSpacing,\n        fixed,\n      }),\n      [horizontal, itemDimension, containerDimension, spacing, fixedSpacing, fixed],\n    );\n\n    const rows = chunkArray(data, itemsPerRow); // Splitting the data into rows\n\n\n    const localKeyExtractor = useCallback(\n      (rowItems, index) => {\n        if (keyExtractor) {\n          return rowItems\n            .map((rowItem, rowItemIndex) => keyExtractor(rowItem, rowItemIndex))\n            .join('_');\n        }\n        return `row_${index}`;\n      },\n      [keyExtractor],\n    );\n\n\n    return (\n      <FlatList\n        data={rows}\n        ref={ref}\n        extraData={totalDimension}\n        renderItem={({ item, index }) => renderRow({\n          rowItems: item,\n          rowIndex: index,\n          isLastRow: index === rows.length - 1,\n          itemsPerRow,\n          rowStyle,\n          containerStyle,\n        })\n        }\n        style={[\n          {\n            ...(horizontal\n              ? { paddingLeft: spacing }\n              : { paddingTop: spacing }),\n          },\n          style,\n        ]}\n        onLayout={onLayoutLocal}\n        keyExtractor={localKeyExtractor}\n        {...restProps}\n        horizontal={horizontal}\n      />\n    );\n  }),\n);\n\n\nFlatGrid.displayName = 'FlatGrid';\n\nFlatGrid.propTypes = {\n  renderItem: PropTypes.func.isRequired,\n  data: PropTypes.arrayOf(PropTypes.any).isRequired,\n  itemDimension: PropTypes.number,\n  fixed: PropTypes.bool,\n  spacing: PropTypes.number,\n  style: PropTypes.object,\n  itemContainerStyle: PropTypes.object,\n  staticDimension: PropTypes.number,\n  horizontal: PropTypes.bool,\n  onLayout: PropTypes.func,\n  keyExtractor: PropTypes.func,\n  listKey: PropTypes.string,\n};\n\nFlatGrid.defaultProps = {\n  fixed: false,\n  itemDimension: 120,\n  spacing: 10,\n  style: {},\n  itemContainerStyle: undefined,\n  staticDimension: undefined,\n  horizontal: false,\n  onLayout: null,\n  keyExtractor: null,\n  listKey: undefined,\n};\n\n\nexport default FlatGrid;\n"]},"metadata":{},"sourceType":"module"}